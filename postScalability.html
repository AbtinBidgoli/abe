<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>
      The Limits to Blockchain Scalability~com.abtinbidgoli~UX/UI Developer Ponderings
    </title>

    <meta
      name="description"
      content="I develop splendid & congenial user experiences that nurtures seamless interactions & delightful impressions to engage people to organizations via enthusiasm, knowledge & nuance."
    />
    <meta name="author" content="Abtin Bidgoli, com.abtinbidgoli" />
    <meta
      name="keywords"
      content="UX/UI Developer, Responsive Web Development, seamless interactions, delightful impressions, Abtin Bidgoli, com.abtinbidgoli, Peace of mind, Helping Hand Initiative, user experiences, user interfaces, prototyping, website developer, abtinbidgoli, bespoke web development, iterative ux/ui, prototyping capabilities"
    />
    <!-- OG Meta Tags to improve the way the post looks when you share the page on LinkedIn, Facebook, Google+ -->
    <meta
      property="og:site_name"
      content="com.abtinbidgoli ~ UX/UI Developer"
    />
    <!-- website name -->
    <meta property="og:site" content="https://abtinbidgoli.com" />
    <!-- website link -->
    <meta
      property="og:title"
      content="The Limits to Blockchain Scalability"
    />
    <!-- title shown in the actual shared post -->
    <meta
      property="og:description"
      content="I develop splendid & congenial user experiences that nurtures seamless interactions & delightful impressions to engage people to organizations via enthusiasm, knowledge & nuance."
    />
    <!-- description shown in the actual shared post -->
    <meta property="og:image" content="img/load.gif" />
    <!-- image link, make sure it's jpg -->
    <meta property="og:url" content="" />
    <!-- where do you want your post to link to -->
    <meta property="og:type" content="article" />

    <!-- Favicon
        ================================================== -->
    <link rel="icon" type="image/png" sizes="16x16" href="img/up.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="img/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="180x180"
      href="img/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="img/android-chrome-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="img/android-chrome-512x512.png"
    />

    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link
      rel="stylesheet"
      type="text/css"
      href="bootstrap/css/bootstrap.min.css"
    />
    <link rel="stylesheet" type="text/css" href="css/ionicons.min.css" />
    <link rel="stylesheet" type="text/css" href="css/owl.carousel.css" />
    <link rel="stylesheet" type="text/css" href="css/owl.theme.css" />
    <link rel="stylesheet" type="text/css" href="css/owl.transitions.css" />
    <link rel="stylesheet" type="text/css" href="css/magnific-popup.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/color-default.css" />

    <script src="https://code.iconify.design/1/1.0.7/iconify.min.js"></script>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JPG2DHZPD6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-JPG2DHZPD6');
    </script>
  </head>

  <body>
    <!--close button-->
    <a href="index.html" class="close-btn">
      <span></span>
      <span></span>
    </a>
    <!--/close button-->

    <div id="preloader">
      <div class="loader">
        <img
          src="img/load.gif"
          alt="com.abtinbidgoli ~ UX/UI Developer"
          class="img-rounded"
        />
      </div>
    </div>

    <div id="wrapper">
      <section id="post" class="blog-page blog-section">
        <div class="posts-block section-block">
          <div class="container">
            <div class="row">
              <div class="col-md-8">
                <div class="post">
                  <!--
                  <div class="media">
                    <video playsinline autoplay loop muted id="Tehran" alt="com.abtinbidgoli ~ UX/UI Developer"
                    class="img-rounded" width="100%" height="100%" lazy>
                      <source src="img/tangeVashi.mp4" type="video/mp4">
                    </video>
                  </div>
                -->
                  <div class="media">
                    <img
                      src="img/Grogu - Copy@1-1680x1027.jpg"
                      alt="com.abtinbidgoli ~ UX/UI Developer"
                      class="img-rounded"
                    />
                  </div>

                  <div class="content">
                    <h4>
                      <a href="#">
                        The Limits to Blockchain Scalability                      
                      </a>
                    </h4>

                    <ul class="post-icons">
                      <li>
                        <i class="ion-ios-person-outline"></i>
                        <span>Abtin Bidgoli</span>
                      </li>

                      <li>
                        <i class="ion-ios-clock-outline"></i>
                        <span>2 February 2024</span>
                      </li>

                      <li>
                        <i class="ion-ios-lightbulb-outline"></i>
                        <span>10 minute read</span>
                      </li>
                    </ul>
                    <p>
                      Just how far can you push the scalability of a blockchain? Can you really, as <a href="https://twitter.com/elonmusk/status/1393738154889338884" target="_blank">Elon Musk wishes</a>, "<i>speed up block time 10X, increase block size 10X & drop fee 100X</i>" without leading to extreme centralization & compromising the fundamental properties that make a blockchain what it is?                    
                    </p>
                      <p>
                        If not, how far can you go? What if you change the consensus algorithm? Even more importantly, what if you change the technology to introduce features such as ZK-SNARKs or sharding? A sharded blockchain can theoretically just keep adding more shards; is there such a thing as adding too many?                      
                      </p>
                      <p>
                        As it turns out, there are important and quite subtle technical factors that limit blockchain scaling, both with sharding and without. In many cases there are solutions, but even with the solutions there are limits. This post will go through what many of these issues are.
                      </p>
                      <blockquote class="twitter-tweet"><p lang="en" dir="ltr">Ideally, Doge speeds up block time 10X, increases block size 10X &amp; drops fee 100X. Then it wins hands down.</p>&mdash; Elon Musk (@elonmusk) <a href="https://twitter.com/elonmusk/status/1393738154889338884?ref_src=twsrc%5Etfw" target="_blank">May 16, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                      <p>
                        <i>Just increase the parameters, & all problems are solved. But at what cost?</i>                     
                        </p>
                      <h3>
                        It's crucial for blockchain decentralization for regular users to be able to run a node
                      </h3>
                      <p>
                        At 2:42 AM, you receive an emergency call from your partner on the opposite side of the world who helps run your mining pool (or it could be a staking pool). Since about 12 minutes ago, your partner tells you, your pool & a few others split off from the chain which still carries 79% of the network. According to your node, the majority chain's blocks are invalid. There's a balance error: the key block appeared to erroneously assign 4.5 million extra coins to an unknown address.
                      </p>
                      <p>
                        An hour later, you're in a telegram chat with the other two small pools who were caught blindsided just as you were, as well as some block explorers & exchanges. You finally see someone paste a link to a tweet, containing a published message. "<i>Announcing new on-chain sustainable protocol development fund</i>", the tweet begins.
                      </p>
                      <p>
                        By the morning, arguments on Twitter, & on the one community forum that was not censoring the discussion, discussions are everywhere. But by then a significant part of the 4.5 million coins had been converted on-chain to other assets, & billions of dollars of defi transactions had taken place. 79% of the consensus nodes, and all the major block explorers & endpoints for light wallets, were following this new chain. Perhaps the new dev fund will fund some development, or perhaps it will just all be embezzled by the leading pools & exchanges & their cronies. But regardless of how it turns out, the fund is for all intents & purposes a fait accompli, & regular users have no way to fight back.
                      </p>
                      <div class="media">
                        <img
                          src="img/forkwars.png"
                          alt="com.abtinbidgoli ~ UX/UI Developer"
                          class="img-rounded"
                          lazy
                        />
                      </div>
                      <br />
                      <p>
                        Movie coming soon. Maybe it can be funded by <a href="https://www.molochdao.com/" target="_blank">MolochDAO</a> or something.
                      </p>
                      <p>
                        Can this happen on your blockchain? The elites of your blockchain community, including pools, block explorers & hosted nodes, are probably quite well-coordinated; quite likely they're all in the same telegram channels & wechat groups. If they really want to organize a sudden change to the protocol rules to further their own interests, then they probably can. The Ethereum blockchain has fully resolved <a href="https://blog.ethereum.org/2016/11/25/security-alert-11242016-consensus-bug-geth-v1-4-19-v1-5-2/" target="_blank">consensus failures</a> in ten hours; if your blockchain has only one client implementation, & you only need to deploy a code change to a few dozen nodes, coordinating a change to client code can be done much faster. The only reliable way to make this kind of coordinated social attack not effective is through passive defense from the one constituency that actually is decentralized: the users.
                      </p>
                      <p>
                        Imagine how the story would have played out if the users were running nodes that verify the chain (whether directly or <a href="https://vitalik.ca/general/2021/04/07/sharding.html#improving-sharding-with-better-security-models" target="_blank">through more advanced indirect techniques</a>), & automatically reject blocks that break the protocol rules even if over 90% of the miners or stakers support those blocks. If every user ran a verifying node, then the attack would have quickly failed: a few mining pools & exchanges would have forked off & looked quite foolish in the process. But even if some users ran verifying nodes, the attack would not have led to a clean victory for the attacker; rather, it would have led to chaos, with different users seeing different views of the chain. At the very least, the ensuing market panic & likely persistent chain split would greatly reduce the attackers' profits. The thought of navigating such a protracted conflict would itself deter most attacks.
                      </p>
                      <blockquote class="twitter-tweet"><p lang="en" dir="ltr">Let‘s make one thing clear:<br><br>You defend against malicious protocol changes by having a culture of users validating the blockchain<br><br>Not by having PoW or PoS</p>&mdash; Hasu (@hasufl) <a href="https://twitter.com/hasufl/status/1376998067040366593?ref_src=twsrc%5Etfw">March 30, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                      <p>
                        <i>Listen to Hasu on this one.</i>
                      </p>
                      <p>
                        If you have a community of 37 node runners & 80000 passive listeners that check signatures & block headers, the attacker wins. If you have a community where everyone runs a node, the attacker loses. We don't know what the exact threshold is at which <a href="https://vitalik.ca/general/2020/08/17/philosophy.html" target="_blank">herd immunity</a> against coordinated attacks kicks in, but there is one thing that's absolutely clear: more nodes good, fewer nodes bad, & we definitely need more than a few dozen or few hundred.
                      </p>
                      <h3>
                        So, what are the limits to how much work we can require full nodes to do?
                      </h3>
                      <p>
                        To maximize the number of users who can run a node, we'll focus on regular consumer hardware. There are some increases to capacity that can be achieved by demanding some specialized hardware purchases that are easy to obtain (eg. from Amazon), but they actually don't increase scalability by that much.
                      </p>
                      <p>
                        There are three key limitations to a full node's ability to process a large number of transactions:
                      </p>
                        <li>
                          <b>Computing power</b>: what % of the CPU can we safely demand to run a node?
                        </li><br>
                        <li>
                          <b>Bandwidth</b>: given the realities of current internet connections, how many bytes can a block contain?
                        </li><br>
                        <li>
                          <b>Storage</b>: how many gigabytes on disk can we require users to store? Also, how quickly must it be readable? (ie. is HDD okay or do we need SSD)
                        </li><br>
                      <p>
                        <b>Many erroneous takes on how far a blockchain can scale using "<i>simple</i>" techniques stem from overly optimistic estimates for each of these numbers.</b> We can go through these three factors one by one:
                      </p>
                      <h3>
                        Computing Power
                      </h3>
                      <li>
                        <b>Bad answer</b>: 100% of CPU power can be spent on block verification
                      </li><br>
                      <li>
                        <b>Correct answer</b>: ~5-10% of CPU power can be spent on block verification
                      </li><br>
                      <p>
                        There are four key reasons why the limit is so low:
                      </p>
                      <li>
                        We need a safety margin to cover the possibility of DoS attacks (transactions crafted by an attacker to take advantage of weaknesses in code to take longer to process than regular transactions)
                      </li><br>
                      <li>
                        Nodes need to be able to sync the chain after being offline. If I drop off the network for a minute, I should be able to catch up in a few seconds
                      </li><br>
                      <li>
                        Running a node should not drain your battery very quickly & make all your other apps very slow
                      </li><br>
                      <li>
                        There are other non-block-production tasks that nodes need to do as well, mostly around verifying & responding to incoming transactions & requests on the p2p network
                      </li><br>
                      <p>
                        Note that up until recently, most explanations for "<i>why only 5~10%?</i>" focused on a different problem: that because PoW blocks come at random times, it taking a long time to verify blocks increases the risk that multiple blocks get created at the same time. There are many fixes to this problem (eg. <a href="https://www.usenix.org/system/files/conference/nsdi16/nsdi16-paper-eyal.pdf" target="_blank">Bitcoin NG</a>, or just using proof of stake). But these fixes do NOT solve the other four problems, & so they don't enable large gains in scalability as many had initially thought.
                      </p>
                      <p>
                        Parallelism is also not a magic bullet. Often, even clients of seemingly single-threaded blockchains are parallelized already: signatures can be verified by one thread while execution is done by other threads, & there's a separate thread that's handling transaction pool logic in the background. The closer you get to 100% usage across all threads, the more energy-draining running a node becomes and the lower your safety margin against DoS.
                      </p>
                      <h3>
                        Bandwidth
                      </h3>
                      <li>
                        <b>Bad answer</b>: if we have 10 MB blocks every 2-3 seconds, then most users have a >10 MB/sec network, so of course they can handle it
                      </li><br>
                      <li>
                        <b>Correct answer</b>: maybe we can handle 1-5 MB blocks every 12 seconds. It's hard though
                      </li><br>
                      <p>
                        Nowadays we frequently hear very high advertised statistics for how much bandwidth internet connections can offer: numbers of 100 Mbps & even 1 Gbps are common to hear. However, there is a large difference between advertised bandwidth & the expected actual bandwidth of a connection for several reasons:
                      </p>
                      <ol type="1">
                        <li>
                          "<i>Mbps</i>" refers to "<i>millions of bits per second</i>"; a bit is 1/8 of a byte, so you need to divide advertised bit numbers by 8 to get the advertised byte numbers.
                        </li><br>
                        <li>
                          Internet providers, just like all companies, often lie.
                        </li><br>
                        <li>
                          There's always multiple applications using the same internet connection, so a node can't hog the entire bandwidth.
                        </li><br>
                        <li>
                          p2p networks inevitably introduce their own overhead: nodes often end up downloading and re-uploading the same block multiple times (not to mention transactions being broadcasted through the mempool before being included in a block).
                        </li>
                      </ol>
                      <p>
                        When Starkware did an experiment in 2019 where they published 500 kB blocks after the <a href="https://eips.ethereum.org/EIPS/eip-2028" target="_blank">transaction data gas cost decrease</a> made that possible for the first time, a few nodes were actually unable to handle blocks of that size. Ability to handle large blocks has since been improved & will continue to be improved. But no matter what we do, we'll still be very far from being able to naively take the average bandwidth in MB/sec, convince ourselves that we're okay with 1s latency, & be able to have blocks that are that size.
                      </p>
                      <h3>
                        Storage
                      </h3>
                      <li>
                        <b>Bad answer</b>: 10 terabytes
                      </li><br>
                      <li>
                        <b>Correct answer</b>: 512 gigabytes
                      </li><br>
                      <p>
                        The main argument here is, as you might guess, the same as elsewhere: the difference between theory & practice. In theory, there are <a href="https://www.amazon.com/SAMSUNG-870-QVO-SATA-MZ-77Q8T0B/dp/B089C3TZL9/ref=sr_1_3?dchild=1&keywords=8tb&qid=1621637865&s=pc&sr=1-3" target="_blank">8 TB solid state drives</a> that you can buy on Amazon (you do need SSDs or NVME; HDDs are too slow for storing the blockchain state). <i>In practice</i>, the laptop that was used to write this blog post has 512 GB, & if you make people go buy their own hardware, many of them will just get lazy (or they can't afford $800 for an 8 TB SSD) & use a centralized provider. Even if you can fit a blockchain onto some storage, a high level of activity can easily quickly burn through the disk & force you to keep getting a new one.
                      </p>
                      <div class="media">
                        <img
                          src="img/poll.png"
                          alt="com.abtinbidgoli ~ UX/UI Developer"
                          class="img-rounded"
                          lazy
                        />
                      </div>
                      <br />
                      <p>
                        <i>A poll in a group of blockchain protocol researchers of how much disk space everyone has. Small sample size, I know, but still...</i>
                      </p>
                      <p>
                        Additionally, storage size determines the time needed for a new node to be able to come online and start participating in the network. Any data that existing nodes have to store is data that a new node has to download. This initial sync time (and bandwidth) is also a major barrier to users being able to run nodes. While writing this blog post, syncing a new geth node took me ~15 hours. If Ethereum had 10x more usage, syncing a new geth node would take at least a week, and it would be much more likely to just lead to your internet connection getting throttled. This is all even more important during an attack, when a successful response to the attack will likely involve many users spinning up new nodes when they were not running nodes before.
                      </p>
                      <h3>
                        Interaction Effects
                      </h3>
                      <p>
                        Additionally, there are interaction effects between these three types of costs. Because databases use tree structures internally to store & retrieve data, the cost of fetching data from a database increases with the logarithm of the size of the database. In fact, because the top level (or top few levels) can be cached in RAM, the disk access cost is proportional to the <i>size of the database as a multiple of the size of the data cached in RAM</i>.
                      </p>
                      <div class="media">
                        <img
                          src="img/tree.png"
                          alt="com.abtinbidgoli ~ UX/UI Developer"
                          class="img-rounded"
                          lazy
                        />
                      </div>
                      <br />
                      <p>
                        <i>
                          Don't take this diagram too literally; different databases work in different ways, & often the part in memory is just a single (but big) layer (see <a href="http://paperhub.s3.amazonaws.com/18e91eb4db2114a06ea614f0384f2784.pdf" target="_blank">LSM trees</a> as used in leveldb). But the basic principles are the same.
                        </i>
                      </p>
                      <p>
                        For example, if the cache is 4 GB, & we assume that each layer of the database is 4x bigger than the previous, then Ethereum's current ~64 GB state would require ~2 accesses. But if the state size increases by 4x to ~256 GB, then this would increase to ~3 accesses (so 1.5x more accesses per read). Hence, a 4x increase in the gas limit, which would increase both the state size & the number of reads, could actually translate into a ~6x increase in block verification time. The effect may be even stronger: hard disks often take longer to read and write when they are full than when they are near-empty.
                      </p>
                      <h3>
                        So what does this mean for Ethereum?
                      </h3>
                      <p>
                        Today in the Ethereum blockchain, running a node already is challenging for many users, though it is still at least possible on regular hardware (Vitalik Buterin just synced a node on his laptop while writing this post!). Hence, we are close to hitting bottlenecks. <b>The issue that core developers are most concerned with is storage size</b>. Thus, at present, valiant efforts at solving bottlenecks in computation & data, & even changes to the consensus algorithm, are unlikely to lead to large gas limit increases being accepted. Even <a href="https://blog.ethereum.org/2021/05/18/eth_state_problems/" target="_blank">solving Ethereum's largest outstanding DoS vulnerability</a> only led to a gas limit increase of 20%.
                      </p>
                      <p>
                        The only solution to storage size problems is <a href="https://hackmd.io/@vbuterin/state_expiry_paths">statelessness & state expiry</a>. <b>Statelessness</b> allows for a class of nodes that verify the chain <i>without</i> maintaining permanent storage. <b>State expiry</b> pushes out state that has not been recently accessed, forcing users to manually provide proofs to renew it. Both of these paths have been worked at for a long time, and proof-of-concept implementation on statelessness has already started. These two improvements combined can greatly alleviate these concerns and open up room for a significant gas limit increase. <b>But even after statelessness & state expiry are implemented, gas limits may only increase safely by perhaps ~3x until the other limitations start to dominate</b>.
                      </p>
                      <p>
                        Another possible medium-term solution is using ZK-SNARKs to verify transactions. ZK-SNARKs would ensure that regular users do not have to personally store the state or verify blocks, though they still would need to download all the data in blocks to protect against <a href="https://github.com/ethereum/research/wiki/A-note-on-data-availability-and-erasure-coding" target="_blank">data unavailability attacks</a>. Additionally, even if attackers cannot force invalid blocks through, if capacity is increased to the point where running a consensus node is too difficult, there is still the risk of coordinated censorship attacks. Hence, ZK-SNARKs cannot increase capacity infinitely, but they still can increase capacity by a significant margin (perhaps 1-2 orders of magnitude). Some chains are exploring this approach at layer 1; Ethereum is getting the benefits of this approach through layer-2 protocols (called <a href="https://vitalik.ca/general/2021/01/05/rollup.html" target="_blank">ZK rollups</a>) such as <a href="https://zksync.io/" target="_blank">zksync</a>, <a href="https://loopring.org/" target="_blank">Loopring</a> & <a href="https://medium.com/starkware/on-the-road-to-starknet-a-permissionless-stark-powered-l2-zk-rollup-83be53640880" target="_blank">Starknet</a>.
                      </p>
                      <h3>
                        What happens after sharding?
                      </h3>
                      <p>
                        <b>Sharding fundamentally gets around the above limitations, because it decouples the data contained on a blockchain from the data that a single node needs to process & store.</b> Instead of nodes verifying blocks by personally downloading & executing them, they use <a href="https://vitalik.ca/general/2021/04/07/sharding.html" target="_blank">advanced mathematical & cryptographic techniques</a> to verify blocks indirectly.
                      </p>
                      <p>
                        As a result, sharded blockchains can safely have very high levels of transaction throughput that non-sharded blockchains cannot. This does require a lot of cryptographic cleverness in creating efficient substitutes for naive full validation that successfully reject invalid blocks, but it can be done: the <a href="https://hackmd.io/@vbuterin/das" target="_blank">theory</a> is <a href="https://vitalik.ca/general/2021/01/26/snarks.html" target="_blank">well-established</a> & proof-of-concepts based on <a href="https://github.com/ethereum/eth2.0-specs/blob/dev/specs/sharding/beacon-chain.md" target="_blank">draft specifications</a> are already <a href="https://github.com/protolambda/eth2-das" target="_blank">being worked on</a>.
                      </p>
                      <div class="media">
                        <img
                          src="img/beacon_chain.jpg"
                          alt="com.abtinbidgoli ~ UX/UI Developer"
                          class="img-rounded"
                          lazy
                        />
                      </div>
                      <br />
                      <p>
                        Ethereum is planning to use <b>quadratic sharding</b>, where total scalability is limited by the fact that a node has to be able to process both a single shard & the beacon chain which has to perform some fixed amount of management work for each shard. If shards are too big, nodes can no longer process individual shards, & if there are too many shards, nodes can no longer process the beacon chain. The product of these two constraints forms the upper bound.
                      </p>
                      <p>
                        Conceivably, one could go further by doing cubic sharding, or even exponential sharding. Data availability sampling would certainly become much more complex in such a design, but it can be done. But Ethereum is not going further than quadratic. The reason is that the extra scalability gains that you get by going from shards-of-transactions to shards-of-shards-of-transactions actually cannot be realized without other risks becoming unacceptably high.
                      </p>
                      <p>
                        So what are these risks?
                      </p>
                      <h3>
                        Minimum User Count
                      </h3>
                      <p>
                        A non-sharded blockchain can conceivably run as long as there is even one user that cares to participate in it. Sharded blockchains are not like this: no single node can process the whole chain, & so you need enough nodes so that they can at least process the chain together. If each node can process 50 TPS, & the chain can process 10000 TPS, then the chain needs at least 200 nodes to survive. If the chain at any point gets to less than 200 nodes, then either nodes stop being able to keep up with the chain, or nodes stop being able to detect invalid blocks, or a number of other bad things may happen, depending on how the node software is set up.
                      </p>
                      <p>
                        In practice, the safe minimum count is several times higher than the naive "<i>chain TPS divided by node TPS</i>" heuristic due to the need for redundancy (including for <a href="https://hackmd.io/@vbuterin/das" target="_blank">data availability sampling</a>); for our above example, let's call it 1000 nodes.
                      </p>
                      <p>
                        If a sharded blockchain's capacity increases by 10x, the minimum user count also increases by 10x. Now, you might ask: why don't we start with a little bit of capacity, & increase it only when we see lots of users so we actually need it, & decrease it if the user count goes back down?
                      </p>
                      <p>
                        There are a few problems with this:
                      </p>
                      <ol type="1">
                        <li>
                          A blockchain itself cannot reliably detect how many unique users are on it, and so this would require some kind of governance to detect & set the shard count. Governance over capacity limits <a href="https://en.bitcoin.it/wiki/Block_size_limit_controversy" target="_blank">can easily become a locus of division & conflict</a>.
                        </li><br>
                        <li>
                          What if many users suddenly & unexpectedly drop out at the same time?
                        </li><br>
                        <li>
                          Increasing the minimum number of users needed for a fork to start makes it harder to defend against hostile takeovers.
                        </li><br>
                      </ol>
                      <p>
                        A minimum user count of under 1,000 is almost certainly fine. A minimum user count of 1 million, on the other hand, is certainly not. Even a minimum user count of 10,000 is arguably starting to get risky. <b>Hence, it seems difficult to justify a sharded blockchain having more than a few hundred shards.</b>
                      </p>
                      <h3>
                        History Retrievability
                      </h3>
                      <p>
                        An important property of a blockchain that users really value is <b>permanence</b>. A digital asset stored on a server will stop existing in 10 years when the company goes bankrupt or loses interest in maintaining that ecosystem. An NFT on Ethereum, on the other hand, is forever.
                      </p>
                      <div class="media">
                        <img
                          src="img/cryptokitties.png"
                          alt="com.abtinbidgoli ~ UX/UI Developer"
                          class="img-rounded"
                          lazy
                        />
                      </div>
                      <br />
                      <p>
                        <i>Yes, people will still be downloading & examining your cryptokitties in the year 2371. Deal with it.</i>
                      </p>
                      <p>
                        But once a blockchain's capacity gets too high, it becomes harder to store all that data, until at some point there's a large risk that some part of history will just end up being stored by... nobody.
                      </p>
                      <p>
                        Quantifying this risk is easy. Take the blockchain's data capacity in MB/sec, and multiply by ~30 to get the amount of data stored in terabytes per year. The current sharding plan has a data capacity of ~1.3 MB/sec, so about 40 TB/year. If that is increased by 10x, this becomes 400 TB/year. If we want the data to be not just accessible, but accessible <i>conveniently</i>, we would also need metadata (eg. decompressing rollup transactions), so make that 4 petabytes per year, or 40 petabytes after a decade. The Internet Archive uses <a href="https://archive.org/web/petabox.php" target="_blank">50 petabytes</a>. So that's a reasonable upper bound for how large a sharded blockchain can safely get.
                      </p>
                      <p>
                        Hence, it looks like on both of these dimensions, <b>the Ethereum sharding design is actually already roughly targeted fairly close to reasonable maximum safe values</b>. The constants can be increased a little bit, but not too much.
                      </p>
                      <h3>
                        Summary
                      </h3>
                      <p>
                        There are two ways to try to scale a blockchain: <b>fundamental technical improvements</b>, & simply <b>increasing the parameters</b>. Increasing the parameters sounds very attractive at first: if you do the math on a napkin, it is easy to convince yourself that a consumer laptop can process thousands of transactions per second, no ZK-SNARKs or rollups or sharding required. Unfortunately, there are many subtle reasons why this approach is fundamentally flawed.
                      </p>
                      <p>
                        Computers running blockchain nodes cannot spend 100% of CPU power validating the chain; they need a large safety margin to resist unexpected DoS attacks, they need spare capacity for tasks like processing transactions in the mempool, & you don't want running a node on a computer to make that computer unusable for any other applications at the same time. Bandwidth similarly has overhead: a 10 MB/s connection does NOT mean you can have a 10 megabyte block every second! A 1-5 megabyte block every 12 seconds, <i>maybe</i>. It is the same with storage. Increasing hardware requirements for running a node and limiting node-running to specialized actors is <i>not</i> a solution. <b>For a blockchain to be decentralized, it's crucially important for regular users to be able to run a node, & to have a culture where running nodes is a common activity</b>.
                      </p>
                      <p>
                        Fundamental technical improvements, on the other hand, can work. Currently, <b>the main bottleneck in Ethereum is storage size, & statelessness & state expiry can fix this</b> & allow an increase of perhaps up to ~3x ~ but not more, as we want running a node to become easier than it is today. <b>Sharded blockchains can scale much further</b>, because no single node in a sharded blockchain needs to process every transaction. But even there, there are limits to capacity: as capacity goes up, the minimum safe user count goes up, & the cost of archiving the chain (& the risk that data is lost if no one bothers to archive the chain) goes up. But we don't have to worry too much: those limits are high enough that we can probably process over a million transactions per second with the full security of a blockchain. But it's going to take work to do this without sacrificing the decentralization that makes blockchains so valuable.
                      </p>











                      
                        


                        
                        
                        <blockquote>
                          “NO ONE IS EASIER to manipulate than a man who exaggerates his own influence. As the Family looked for Russia’s future leader, a series of meetings between Berezovsky and Putin commenced. By this time, Putin was the head of Russia’s secret police. Yeltsin had obliterated the top brass everywhere, repeatedly, and the FSB—the Federal Security Service, as the successor agency to the KGB was now called—was no exception.”

~Curated Excerpt From: Masha Gessen. “The Man Without a Face: The Unlikely Rise of Vladimir Putin.” Apple Books. 
                        </blockquote>
                    

                    <p>
                      Curated via
                      <a
                        href="https://vitalik.ca/general/2021/05/23/scaling.html"
                        target="_blank"
                        rel="noopener noreferrer"
                        >Vitalik Buterin</a
                      >. Thanks for reading, cheers! (with a glass of wine & book of
                      course)
                    </p>

                    <div class="media">
                      <img
                        src="img/2018 Casas Del Toqui Court Rollan Filius Blend De Blends Red.png"
                        alt="com.abtinbidgoli ~ UX/UI Developer"
                        class="img-rounded"
                      />
                    </div>
                    <br />
                    <h3>
                      2018 Casas Del Toqui Court Rollan Filius Blend De Blends Red
                    </h3>
                    <p>
                      Producer:
                      <a
                        href="https://winelibrary.com/wines/cabernet-sauvignon/2018-casas-del-toqui-court-rollan-filius-blend-de-blends-red-124025"
                        target="_blank"
                        rel="noopener noreferrer"
                        >Court Rollan, Central, Cachpoal Valley, Chile
                      </a>
                    </p>
                    <blockquote>
                      "Ripe black plum and berry aromas are full and heady, while this blend of 80% Cabernet Sauvignon along with Carmenère and Syrah is brightened by healthy acidity. Spicy yet fully ripe berry and currant flavors are backed by earthy tomato and tobacco notes on a smooth finish. Drink through 2023."

                      ~ 93 Points ~ MS Wine Enthusiast
                    </blockquote>
                    <div class="media">
                      <img
                        src="img/withoutFace.jpg"
                        alt="com.abtinbidgoli ~ UX/UI Developer"
                        class="img-rounded"
                      />
                    </div>
                    <br />
                    <h3>The Man Without a Face: The Unlikely Rise of Vladimir Putin</h3>
                    <p>
                      <a
                        href="http://libgen.rs/book/index.php?md5=DC0C04FEFA41149B82EE5FEB9E1248B1"
                        target="_blank"
                        rel="noopener noreferrer"
                        >By: Masha Gessen
                      </a>
                    </p>
                    <blockquote>
                      National Book Award winner Masha Gessen’s biography of a ruthless man’s ascent to near-absolute power. The Man Without a Face is the chilling account of how a low- level, small-minded KGB operative ascended to the Russian presidency and, in an astonishingly short time, destroyed years of progress and made his country once more a threat to her own people and to the world.
                    </blockquote>
                    <blockquote>
                      Handpicked as a successor by the “family” surrounding an ailing and increasingly unpopular Boris Yeltsin, Vladimir Putin seemed like a perfect choice for the oligarchy to shape according to its own designs. Suddenly the boy who had stood in the shadows, dreaming of ruling the world, was a public figure, and his popularity soared. Russia and an infatuated West were determined to see the progressive leader of their dreams, even as he seized control of media, sent political rivals and critics into exile or to the grave, and smashed the country’s fragile electoral system, concentrating power in the hands of his cronies.
                    </blockquote>
                    <blockquote>
                      As a journalist living in Moscow, Masha Gessen experienced this history firsthand, and for The Man Without a Face she has drawn on information and sources no other writer has tapped. Her account of how a “faceless” man maneuvered his way into absolute ~ and absolutely corrupt ~ power is the definitive biography of Vladimir Putin.
                    </blockquote>
                    
                  </div>
                </div>

                <div class="post-more">
                  <a href="postCold.html" class="more-link">
                    Recent Muse
                  </a>
                  <a href="postWeb.html" class="more-link">
                    Next Pondering Publishes 2 March 2024
                  </a>
                </div>
              </div>

              <div class="col-md-4">
                <div class="sidebar">
                  <div class="sidebar-widget">
                    <div class="categories-widget">
                      <div class="widget-header">
                        <h4>
                          <i class="ion-ios-folder-outline"></i> Niches
                        </h4>
                      </div>

                      <ul class="sidebar-list">
                        <li>
                          <a href="#">Web Development</a>
                        </li>

                        <li>
                          <a href="#">UX</a>
                        </li>

                        <li>
                          <a href="#">UI</a>
                        </li>

                        <li>
                          <a href="#">Oenology</a>
                        </li>

                        <li>
                          <a href="#">Technology</a>
                        </li>
                        
                        <li>
                          <a href="#">Publication</a>
                        </li>
                      </ul>
                    </div>
                  </div>

                  <div class="sidebar-widget">
                    <div class="widget-header">
                      <h4>
                        <i class="ion-document"></i>
                        Recent Musings
                      </h4>
                    </div>

                    <ul class="sidebar-list">
                      <li>
                        <a href="postAi.html">
                          Computer Vision: How to Automate the Process of
                          Learning
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 8 minute read </span><br />&emsp;<span
                            >~ Publishes 2 April 2024</span
                          >
                        </a>
                      </li>

                      <li>
                        <a href="postWeb.html">
                          My First Impressions of Web3
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 15 minute read </span><br />&emsp;<span
                            >~ Publishes 2 March 2024</span
                          >
                        </a>
                      </li>

                      <li>
                        <a href="postScalability.html">
                          The Limits to Blockchain Scalability
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 10 minute read </span>
                        </a>
                      </li>
                      
                      <li>
                        <a href="postCold.html">
                          Going Cold Turkey: Phone Addiction & Detox
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 7 minute read </span>
                        </a>
                      </li>
                      
                      <li>
                        <a href="postProcess.html">
                          5 Stages in the Design Thinking Process
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 6 minute read </span>
                        </a>
                      </li>
                      
                      <li>
                        <a href="postVue.html">
                          Technologies I’ve Decided To Focus On
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 7 minute read </span>
                        </a>
                      </li>
                      <li>
                        <a href="postVitals.html">
                          Page Experience & Core Web Vitals
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 4 minute read </span>
                        </a>
                      </li>
                      <li>
                        <a href="postCSS.html">
                          1996: Flash & CSS Bring Design to the Web
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 6 minute read </span>
                        </a>
                      </li>
                      
                      
                      <li>
                        <a href="postDHTML.html">
                          1997: The Year of DHTML
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 5 minute read </span>
                        </a>
                      </li>
                      
                      
                      <li>
                        <a href="postHours.html">
                          Calculating Hours, Client Factors
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 5 minute read </span>
                        </a>
                      </li>
                      
                      <li>
                        <a href="postIntentional.html">
                          Developing an Intentional Life
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 7 minute read </span>
                        </a>
                      </li>
                      
                      <li>
                        <a href="postInspirant.html">
                          Starting your Digital Transformation Journey
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 15 minute read </span>
                        </a>
                      </li>
                      <li>
                        <a href="postCase.html">
                          A Case Study in Design Operations
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 5 minute read </span>
                        </a>
                      </li>
                      <li>
                        <a href="postVashi.html">
                          Tang-e Vashi: Alborz range in Iran
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 10 minute read </span>
                        </a>
                      </li>
                      <li>
                        <a href="postCrypto.html">
                          SEC & Crypto: Conversations with Friends
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 5 minute read </span>
                        </a>
                      </li>
                      <li>
                        <a href="postGonzo.html">
                          Gonzo Journalism: Decadent & Depraved
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 8 minute read </span>
                        </a>
                      </li>
                      <li>
                        <a href="postProgram.html">
                          Program Hopping & the Dangers of Knowledge Seeking
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 5 minute read </span>
                        </a>
                      </li>
                      <li>
                        <a href="postPeace.html">
                          Peace through Diplomacy during these Unprecedented Times
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 5 minute read </span>
                        </a>
                      </li>
                      <li>
                        <a href="postMental.html">
                          Environ~<i>Mental</i> Mom: The Absence of Actively Listening
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 10 minute read </span>
                        </a>
                      </li>
                      <li>
                        <a href="postBreaking.html">
                          <i>Breaking Points</i>: On Afghanistan, the Revolving Door, & Media Failure to Disclose Contracting Ties of Guests
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 6 minute read </span>
                        </a>
                      </li>
                      
                      <li>
                        <a href="postgetNud.html">
                          Get <i>Nu'd</i>, Vaccine Success, Media Misery: Is Good News Taboo in the Trump Age?
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 8 minute read </span>
                        </a>
                      </li>
                      <li>
                        <a href="postStocks.html">
                          Ali Abdaal's Ultimate Guide to Investing in Stocks
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 24 minute read </span>
                        </a>
                      </li>

                      <li>
                        <a href="postPoverty.html">
                          Simple Steps to Get Out of Poverty
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 10 minute read </span>
                        </a>
                      </li>

                      <li>
                        <a href="postNFT.html">
                          Why NFTs are Valuable
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 8 minute read </span><
                        </a>
                      </li>

                      <li>
                        <a href="postDevelop.html">
                          Develop Taste to Get Good
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 5 minute read</span>
                        </a>
                      </li>

                      <li>
                        <a href="postLucky.html">
                          Got Lucky: Maximizing Exposure to Life Changing
                          Serendipity
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 8 minute read </span>
                        </a>
                      </li>

                      <li>
                        <a href="postBoring.html">
                          Boring Fundamentals: Boring is Fun
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 4 minute read </span>
                        </a>
                      </li>

                      <li>
                        <a href="postData.html">
                          Data Is More than Numbers
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 7 minute read </span>
                        </a>
                      </li>

                      <li>
                        <a href="postFactors.html">
                          Factors in UX Maturity
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 12 minute read</span>
                        </a>
                      </li>

                      <li>
                        <a href="postProblems.html">
                          Severity Ratings for Usability Problems
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 4 minute read </span>
                        </a>
                      </li>

                      <li>
                        <a href="postIdeation.html">
                          Ideation for Everyday Challenges
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 5 minute read </span>
                        </a>
                      </li>
                      
                      <li>
                        <a href="postHeadings.html">
                          Headings Are Pick-Up Lines
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 3 minute read</span>
                        </a>
                      </li>

                    <ul class="sidebar-list">
                      <li>
                        <a href="postSocialMedia.html">
                          Social Media UX: Research Insights
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 3 minute read</span>
                        </a>
                      </li>

                      <li>
                        <a href="postPrinciple.html">
                          The Principle of Commitment, Consistency & Variability
                          in UX
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 4 minute read</span>
                        </a>
                      </li>

                      <li>
                        <a href="postPerfectAssets.html">
                          The Perfect Assets Every Landing Page Should Have
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 3 minute read</span>
                        </a>
                      </li>

                      <li>
                        <a href="postAboutUs.html">
                          "About Us" Section Information on Websites
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 4 minute read</span>
                        </a>
                      </li>

                      <li>
                        <a href="postBeforeAfter.html">
                          Before & After: Digital Media Agency Website Revamped
                          <br />&emsp;<i class="ion-ios-lightbulb-outline"></i
                          ><span> 5 minute read</span>
                        </a>
                      </li>
                    </ul>
                  </div>

                  <div class="sidebar-widget">
                    <div class="widget-header">
                      <h4>
                        <i class="ion-ios-pricetag-outline"></i>
                        Tags
                      </h4>
                    </div>

                    <ul class="sidebar-list list-inline">
                      <li>
                        <a href="#">Development</a>
                      </li>
                      <li>
                        <a href="#">Tech</a>
                      </li>
                      <li>
                        <a href="#">Web</a>
                      </li>
                      <li>
                        <a href="#">UX</a>
                      </li>
                      <li>
                        <a href="#">UI</a>
                      </li>
                      <li>
                        <a href="#">Wine</a>
                      </li>
                      <li>
                        <a href="#">Prototype</a>
                      </li>
                      <li>
                        <a href="#">Strategy</a>
                      </li>
                    </ul>
                  </div>

                  <div class="sidebar-widget">
                    <div class="widget-header">
                      <a
                        href="https://www.stjude.org/about-st-jude/stories/meet-our-patients/meet-riku.html"
                        target="_blank"
                        rel="noopener noreferrer"
                      >
                        <img
                          src="img/stjudeRikuBanner.jpg"
                          class="img-rounded"
                          alt="com.abtinbidgoli Helping Hand Initiative ~ St. Jude Children’s Research Hospital"
                        />
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="footer bg-lightgray section-block">
          <div class="container">
            <div class="row">
              <div class="col-xs-6 text-left">
                <h4><span style="color: #64a9c3">com.abtinbidgoli</span></h4>
              </div>

              <div class="col-xs-6 text-right">
                <ul class="footer-social">
                  <li>
                    <a
                      href="https://github.com/AbtinBidgoli"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      <i class="ion-social-github"></i>
                    </a>
                  </li>
                  <li>
                    <a
                      href="https://www.linkedin.com/company/com-abtinbidgoli"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      <i class="ion-social-linkedin"></i>
                    </a>
                  </li>
                  <li>
                    <a
                      href="https://www.linkedin.com/in/abtin-bidgoli-1254a710b/"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      <i class="ion-social-linkedin"></i>
                    </a>
                  </li>
                  <li>
                    <a
                      href="https://www.instagram.com/com.abtinbidgoli/"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      <i class="ion-social-instagram"></i>
                    </a>
                  </li>
                  <li>
                    <a
                      href="https://www.youtube.com/channel/UCKb2uRNBmgoLaV-xtrKpcYw"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      <i class="ion-social-youtube"></i>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/modernizr.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.shuffle.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/validator.min.js"></script>
    <script src="js/smoothscroll.js"></script>
    <script src="js/script.js"></script>
  </body>
</html>
